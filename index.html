<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>松本会計｜ツールポータル</title>
<meta name="description" content="松本会計の社内外向けツールを一画面に集約。黒字経営4WDと各種便利ツール。" \/>
<style>
  :root{
    --brand:#578899;           /* 事務所コーポレートカラー */
    --brand-700:#456d77;       /* 濃いめ */
    --brand-300:#7aa5b4;       /* 明るめ */
    --ink:#0f172a;             /* 文字色 (slate-900) */
    --muted:#64748b;           /* 補助文字 (slate-500) */
    --bg:#f8fafc;              /* 背景 */
    --card:#ffffff;            /* カード */
    --line:#e2e8f0;            /* 罫線 */
    --shadow:0 8px 24px rgba(15,23,42,.08);
    --radius:18px;
  }
  :root.dark{
    --bg:#0b1220;
    --card:#0f172a;
    --ink:#e5e7eb;
    --muted:#94a3b8;
    --line:#1f2a44;
    --shadow:0 8px 24px rgba(0,0,0,.35);
  }
  html,body{height:100%;}
  body{
    margin:0; background:var(--bg); color:var(--ink);
    font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans JP", Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
    line-height:1.55;
  }
  /* ヘッダー */
  .hero{
    position:relative; overflow:hidden; isolation:isolate;
    background: radial-gradient(1200px 400px at 10% -10%, rgba(87,136,153,.35), transparent),
                radial-gradient(900px 400px at 110% -20%, rgba(69,109,119,.25), transparent),
                linear-gradient(180deg, #ffffff 0%, #f3f7fb 100%);
    padding: clamp(24px, 4vw, 40px) 16px 18px;
    border-bottom:1px solid var(--line);
  }
  .hero .topbar{
    display:flex; align-items:center; justify-content:space-between; gap:12px; 
    max-width:1100px; margin:0 auto;
  }
  .branding{display:flex; align-items:center; gap:12px;}
  .logo{width:38px;height:38px;border-radius:12px;background:var(--brand); box-shadow: inset 0 0 0 3px rgba(255,255,255,.5);
        display:grid; place-items:center; color:#fff; font-weight:700; letter-spacing:.5px;}
  .title{font-size: clamp(18px,2.6vw,28px); font-weight:800;}
  .subtitle{color:var(--muted); font-size: clamp(12px,1.8vw,14px);}
  .actions{display:flex; gap:8px; align-items:center;}
  .btn{appearance:none; border:none; outline:none; cursor:pointer; padding:10px 14px; border-radius:12px; font-weight:600;}
  .btn.primary{background:var(--brand); color:#fff; box-shadow:var(--shadow);}  
  .btn.ghost{background:transparent; border:1px solid var(--line); color:var(--ink);} 
  .btn:hover{filter:brightness(0.98);} 
  .btn:active{transform: translateY(1px);} 

  .hero .searchbar{max-width:1100px; margin:14px auto 0; display:flex; gap:10px;}
  .search{flex:1; display:flex; align-items:center; gap:10px; background:#fff; border:1px solid var(--line); border-radius:14px; padding:10px 12px; box-shadow: var(--shadow);} 
  .search input{flex:1; border:none; outline:none; font-size:16px; background:transparent; color:var(--ink);} 
  .tags{display:flex; gap:6px; flex-wrap:wrap;}
  .tag{font-size:12px; color:#fff; background:var(--brand-700); padding:6px 10px; border-radius:999px;}

  /* セクション */
  .section{max-width:1100px; margin:24px auto; padding:0 16px;}
  .section h2{display:flex; align-items:center; gap:10px; font-size: clamp(18px,2.4vw,22px); margin:22px 0 12px;}
  .chip{font-size:12px; font-weight:700; color:#fff; background:var(--brand); padding:6px 10px; border-radius:999px; letter-spacing:.5px;}
  .desc{color:var(--muted); font-size:14px; margin-bottom:10px;}

  /* グリッドカード */
  .grid{display:grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap:14px;}
  .card{
    background:var(--card); border:1px solid var(--line); border-radius:var(--radius);
    box-shadow: var(--shadow); position:relative; overflow:hidden;
    display:flex; flex-direction:column; justify-content:space-between;
  }
  .card .inner{padding:16px 16px 12px;}
  .card .head{display:flex; align-items:center; gap:12px;}
  .badge{width:44px; height:44px; border-radius:14px; display:grid; place-items:center; background:linear-gradient(135deg, var(--brand) 0%, var(--brand-300) 100%); color:#fff;}
  .card h3{margin:0; font-size:18px;}
  .card p{margin:6px 0 0; color:var(--muted); font-size:13px; min-height:2.5em;}
  .card .foot{display:flex; gap:8px; padding:0 12px 14px;}
  .linkbtn{flex:1; text-align:center; border-radius:12px; padding:10px 12px; font-weight:700; border:1px solid var(--line); background:#fff; color:var(--brand-700); cursor:pointer;}
  .linkbtn.primary{background:var(--brand); color:#fff; border-color:transparent;}
  .linkbtn:active{transform: translateY(1px);} 

  /* 目次ナビ */
  .toc{position:sticky; top:0; z-index:20; backdrop-filter: saturate(1.2) blur(6px); background:color-mix(in oklab, var(--bg) 70%, #fff 30%); border-bottom:1px solid var(--line);} 
  .toc .wrap{max-width:1100px; margin:0 auto; padding:8px 16px; display:flex; gap:10px; flex-wrap:wrap; align-items:center;}
  .toc a{display:inline-flex; align-items:center; gap:8px; text-decoration:none; font-weight:700; color:var(--brand-700); background:#fff; border:1px solid var(--line); padding:8px 12px; border-radius:999px;}

  /* トースト */
  .toast{position:fixed; left:50%; transform:translateX(-50%); bottom:24px; background:#111827; color:#fff; padding:10px 14px; border-radius:12px; box-shadow:var(--shadow); opacity:0; pointer-events:none; transition:.25s ease;}
  .toast.show{opacity:1;}

  /* フッター */
  footer{border-top:1px solid var(--line); padding:16px; color:var(--muted); text-align:center;}

  /* 小さめ端末調整 */
  @media (max-width:420px){
    .linkbtn{padding:10px 10px; font-size:14px;}
    .card h3{font-size:17px;}
  }
  /* 4WD 四輪レイアウト */
  .wheel{position:relative; max-width:900px; margin:16px auto 20px; min-height:360px; display:grid; place-items:center;}
  .hub{width:clamp(200px,40vw,300px); height:clamp(200px,40vw,300px); border-radius:20px; background:var(--card); border:1px solid var(--line); box-shadow:var(--shadow); display:grid; place-items:center; color:var(--brand-700);}  
  .hub svg{width:70%; height:70%;}
  .wheel-link{position:absolute; display:flex; align-items:center; gap:8px; padding:10px 14px; border-radius:999px; background:#fff; border:1px solid var(--line); box-shadow:var(--shadow); text-decoration:none; color:var(--brand-700); font-weight:700;}
  .wheel-link:hover{transform:translateY(-1px);} 
  #link-pl{top:10%; left:10%;}
  #link-convert{top:10%; right:10%;}
  #link-jinkenhi{bottom:10%; left:10%;}
  #link-jidouka{bottom:10%; right:10%;}
  @media (max-width:520px){
    .wheel{min-height:300px;}
    .wheel-link{padding:8px 10px; font-size:14px;}
    #link-pl{top:4%; left:4%;}
    #link-convert{top:4%; right:4%;}
    #link-jinkenhi{bottom:4%; left:4%;}
    #link-jidouka{bottom:4%; right:4%;}
  }
  /* 4WD 四輪レイアウト */
  .wheel{position:relative; max-width:900px; margin:16px auto 20px; min-height:360px; display:grid; place-items:center;}
  .hub{width:clamp(180px,35vw,240px); height:clamp(180px,35vw,240px); border-radius:20px; background:var(--card); border:1px solid var(--line); box-shadow:var(--shadow); display:grid; place-items:center; color:var(--brand-700);} 
  .hub svg{width:70%; height:70%;}
  .wheel-link{position:absolute; display:flex; align-items:center; gap:8px; padding:10px 14px; border-radius:999px; background:#fff; border:1px solid var(--line); box-shadow:var(--shadow); text-decoration:none; color:var(--brand-700); font-weight:700;}
  .wheel-link:hover{transform:translateY(-1px);} 
  #link-pl{top:6%; left:6%;}
  #link-convert{top:6%; right:6%;}
  #link-jinkenhi{bottom:6%; left:6%;}
  #link-jidouka{bottom:6%; right:6%;}
  @media (max-width:520px){
    .wheel{min-height:300px;}
    .wheel-link{padding:8px 10px; font-size:14px;}
    #link-pl{top:4%; left:4%;}
    #link-convert{top:4%; right:4%;}
    #link-jinkenhi{bottom:4%; left:4%;}
    #link-jidouka{bottom:4%; right:4%;}
  }
  /* アイコンサイズを統一（四隅リンク） */
  .wheel .corner svg{width:28px;height:28px;}
  .wheel .corner.br svg{width:28px;height:28px;}
  /* --- 4WD corner positions: align to tyre centers --- */
  #link-pl{top:12%; left:6%;}
  #link-convert{top:12%; right:6%;}
  #link-jinkenhi{bottom:12%; left:6%;}
  #link-jidouka{bottom:12%; right:6%;}
  .hub img{width:100%;height:100%;object-fit:contain;}
  /* Layering & corner positions (pull away from car) */
  .hub{z-index:1;}
  .wheel .corner{z-index:2;}
  #link-pl{top:7%; left:7%;}
  #link-convert{top:7%; right:7%;}
  #link-jinkenhi{bottom:7%; left:7%;}
  #link-jidouka{bottom:7%; right:7%;}
  .hub img.carimg{width:100%;height:100%;object-fit:contain;display:block;}
  .hub img.carimg{width:100%;height:100%;object-fit:contain;display:block;}
  /* 四隅を車から離す */
  #link-pl{top:12%; left:12%;}
  #link-convert{top:12%; right:12%;}
  #link-jinkenhi{bottom:12%; left:12%;}
  #link-jidouka{bottom:12%; right:12%;}
  /* 画像ハブの調整とオフセット上書き */
  .hub{width:clamp(200px,40vw,300px); height:clamp(200px,40vw,300px);} 
  .hub img.carimg{width:100%;height:100%;object-fit:contain;display:block;}
  #link-pl{top:12%; left:12%;}
  #link-convert{top:12%; right:12%;}
  #link-jinkenhi{bottom:12%; left:12%;}
  #link-jidouka{bottom:12%; right:12%;}
  /* 変動損益を車の上（中央）に配置 */
  .wheel .oncar{top:50%; left:50%; transform:translate(-50%,-50%);}
  /* 変動損益を車の上（中央）に配置 */
  .wheel .oncar{top:50%; left:50%; transform:translate(-50%,-50%);}
</style>
</head>
<body>
  <header class="hero">
    <div class="topbar">
      <div class="branding">
        <div class="logo" aria-hidden="true">MK</div>
        <div>
          <div class="title">松本会計｜ツールポータル</div>
          <div class="subtitle">黒字経営を加速する社内外向けリンク集</div>
        </div>
      </div>
      <div class="actions">
        <button class="btn ghost" id="toggleTheme" title="テーマ切替">🌓</button>
        
      </div>
    </div>
</header>

  <nav class="toc">
    <div class="wrap">
      <a href="#shitenno">⚡ 黒字経営4WD</a>
      <a href="#others">🧰 その他便利ツール</a>
    </div>
  </nav>

  <!-- 四天王 -->
  <section id="shitenno" class="section" aria-labelledby="h2-shitenno">
    <h2 id="h2-shitenno"><span class="chip">黒字経営4WD</span></h2>
    <p class="desc">日常業務で役立つ周辺ツールをコンパクトに集約。</p>

    <div class="grid" id="grid-others">
      <!-- 受取利息配当金 -->
      <article class="card" data-key="受取利息 受取配当金 源泉 税務 仕訳">
        <div class="inner">
          <div class="head">
            <div class="badge" aria-hidden="true">
              <!-- bank/percent icon -->
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M4 10l8-5 8 5v8H4v-8z" stroke="white" stroke-width="2"/><path d="M7 18h10M8 13h3" stroke="white" stroke-width="2"/></svg>
            </div>
            <div>
              <h3>受取利息・配当金 仕訳補助</h3>
              <p>入金額から自動で仕訳素案を提示。法人前提の勘定科目に対応。</p>
            </div>
          </div>
        </div>
        <div class="foot">
          <a class="linkbtn primary" href="https://takatrp.github.io/withholding/" target="_blank" rel="noopener">開く</a>
          <button class="linkbtn" data-copy="https://takatrp.github.io/withholding/">URLコピー</button>
        </div>
      </article>

      <!-- 減価償却費計算 -->
      <article class="card" data-key="減価償却 償却率 耐用年数 定額 定率 国税庁">
        <div class="inner">
          <div class="head">
            <div class="badge" aria-hidden="true">
              <!-- calculator icon -->
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none"><rect x="4" y="3" width="16" height="18" rx="3" stroke="white" stroke-width="2"/><path d="M8 8h8M8 12h3m0 4h5" stroke="white" stroke-width="2" stroke-linecap="round"/></svg>
            </div>
            <div>
              <h3>減価償却費 計算ツール</h3>
              <p>耐用年数・償却率に沿って毎期償却費を試算。注記の検討にも。</p>
            </div>
          </div>
        </div>
        <div class="foot">
          <a class="linkbtn primary" href="https://takatrp.github.io/genkasyoukyaku/" target="_blank" rel="noopener">開く</a>
          <button class="linkbtn" data-copy="https://takatrp.github.io/genkasyoukyaku/">URLコピー</button>
        </div>
      </article>
    </div>
  </section>

  <footer>
    <div>当ページはリンクポータルです。各ツールの最終確認は必ず実務手順・法令に照らして行ってください。</div>
    <div style="margin-top:8px">© Matsumoto Kaikei — Tools Portal <strong>r20</strong> / 最終更新: 2025-09-21</div>
  </footer>

  <div class="toast" id="toast">URLをコピーしました</div>

<script>
  // 検索フィルタ
  const q = document.querySelector('#q');
  const cards = Array.from(document.querySelectorAll('.card'));
  q?.addEventListener('input', (e)=>{
    const v = (e.target.value || '').trim();
    const kw = v.replace(/\s+/g,' ').split(' ').filter(Boolean).map(s=>s.toLowerCase());
    cards.forEach(c=>{
      const hay = (c.textContent + ' ' + (c.dataset.key||'')).toLowerCase();
      const ok = kw.length===0 || kw.every(k=> hay.includes(k));
      c.style.display = ok ? '' : 'none';
    });
  });

  // クリップボードコピー & トースト
  const toast = document.getElementById('toast');
  function showToast(msg){
    toast.textContent = msg || 'コピーしました';
    toast.classList.add('show');
    setTimeout(()=>toast.classList.remove('show'), 1500);
  }
  document.addEventListener('click', async (e)=>{
    const btn = e.target.closest('[data-copy]');
    if(!btn) return;
    const url = btn.getAttribute('data-copy');
    try{
      await navigator.clipboard.writeText(url);
      showToast('URLをコピーしました');
    }catch(err){
      showToast('コピーに失敗しました');
    }
  });

  // テーマ切替（保持）
  const root = document.documentElement;
  const themeKey = 'mk-tools-theme';
  function setTheme(mode){
    if(mode==='dark'){ root.classList.add('dark'); }
    else{ root.classList.remove('dark'); }
    localStorage.setItem(themeKey, mode);
  }
  const saved = localStorage.getItem(themeKey);
  if(saved){ setTheme(saved); }
  document.getElementById('toggleTheme')?.addEventListener('click', ()=>{
    const dark = root.classList.toggle('dark');
    localStorage.setItem(themeKey, dark ? 'dark' : 'light');
  });

  // iOSキーボードでのズーム防止（視差）
  document.addEventListener('touchstart', ()=>{}, {passive:true});
</script>
</body>
</html>